name: Build APK

on:
  push:
      branches: [ main ]
        pull_request:
            branches: [ main ]
              workflow_dispatch:

              jobs:
                build:
                    runs-on: ubuntu-latest
                        steps:
                            - uses: actions/checkout@v3

                                    - name: Set up JDK 17
                                          uses: actions/setup-java@v3
                                                with:
                                                        java-version: '17'
                                                                distribution: 'temurin'

                                                                        - name: Make gradlew executable
                                                                              run: chmod +x ./hiking-watch-app/gradlew

                                                                                      - name: Build APK
                                                                                            run: cd hiking-watch-app && ./gradlew assembleDebug

                                                                                                    - name: Upload APK
                                                                                                          uses: actions/upload-artifact@v3
                                                                                                                with:
                                                                                                                        name: hiking-tracker-debug-apk
                                                                                                                                path: hiking-watch-app/app/build/outputs/apk/debug/app-debug.apk
